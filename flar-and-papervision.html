<!DOCTYPE html><html lang="en"><head>
    <meta name="author" content="Julien Barbay">
    <meta name="twitter:creator" content="@y_nk">
    <meta name="twitter:card" content="summary">

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>y_nk – FLAR + PV3D = ?</title>

    <link rel="stylesheet" type="text/css" href="./style.css">
    <link rel="icon" type="image/svg+xml" href="./favicon.svg">
    <link rel="alternate" type="application/rss+xml" href="./feed.xml">

    <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.0.0/build/styles/paraiso-dark.min.css">
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.0.0/build/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  <meta property="og:type" content="article"><meta property="article:author" content="Julien Barbay"><meta property="og:title" content="FLAR + PV3D = ?"><meta property="description" content="Fixes and trials of the combination of Papervsion and FLAR for AR experiences in Flash"><meta property="og:description" content="Fixes and trials of the combination of Papervsion and FLAR for AR experiences in Flash"><meta property="og:url" content="/flar-and-papervision.html"><meta property="article:published_time" content="1239202800000"></head>

  <body class="post">
    <header>
      <h1><a href="./">
        <svg id="y_nk" viewBox="0 0 100 65">
          <polygon class="bk" points="10.1,0 20.3,10.1 0,10.1"></polygon>
          <polygon class="ft" points="20.3,10.1 46.2,36.1 36.1,46.2 0,10.1"></polygon>
          <polygon class="bk" points="35.6,10.1 45.8,20.3 45.8,0"></polygon>
          <polygon class="ft" points="89.9,44.3 89.9,64.6 45.8,20.3 45.8,0"></polygon>
          <polygon class="bk" points="89.9,0 79.7,10.1 100,10.1"></polygon>
          <polygon class="ft" points="79.7,10.1 75.3,14.6 85.4,24.7 100,10.1"></polygon>
          <polygon class="bk" points="100,54.4 89.9,44.3 89.9,64.6"></polygon>
        </svg>
      </a></h1>
    </header>

    <section id="main">
  <hgroup>
    <h2>FLAR + PV3D = ?</h2>
    <h6>April 9th, 2009</h6>
  </hgroup>
 <article>
    <p><disclaimer>The original article has been retrieved from the internet archive machine and edited for fluidity.</disclaimer></p>
<p>I'm currently working with FLAR (Flash Augmented Reality). It's playful but soooo bugged. It's kinda killing the joy.</p>
<p>1/ There's no getter for position and rotation of the marker in the 3D space. Hopefully some dude made a snippet for that. Still it's a shame it comes from "a random guy on the internet:</p>
<pre><code>private var transformation:FLARTransMatResult = new FLARTransMatResult();

public function get position():Array
{
  try
  {
    detector.getTransformMatrix(transformation);

    var tmp:Matrix3D = new Matrix3D();
      tmp.n11 =  transformation.m01; tmp.n12 =  transformation.m00; tmp.n13 =  transformation.m02; tmp.n14 =  transformation.m03;
      tmp.n21 = -transformation.m11; tmp.n22 = -transformation.m10; tmp.n23 = -transformation.m12; tmp.n24 = -transformation.m13;
      tmp.n31 =  transformation.m21; tmp.n32 =  transformation.m20; tmp.n33 =  transformation.m22; tmp.n34 =  transformation.m23;

      return [new Number3D(tmp.n14, tmp.n24, tmp.n34), Matrix3D.matrix2euler(tmp)]
  }
  catch(e:Error) {}

  return null;
}</code></pre>
<p>2/ Axis are not normalized along with Papervision. Z is mixed with Y, and so X is reversed. It's unmanageable when in comes to using the 3d engine (moveForward is moveBackward, pitch, roll, etc...)</p>
<p>3/ The only documentation is in Japanese. God I wish I could speak.</p>
<p>This makes every authoring task in the 3d environment painful, and I'm not talking about linking with a 3d physics engine which could also bring its own challenges.</p>
<p>Even though, it's still very CPU costly. My iMac "latest" needs full power to process a 320x260@30fps camera frame to have some kind of performances.</p>

  </article></section>

    <footer>
      <a href="./" class="!">← back</a>
    </footer>

    <script>
      const colors = ['blue', 'cornflowerblue', 'darkorange', 'darkturquoise', 'deepskyblue', 'dodgerblue',
        'gold', 'goldenrod', 'indigo', 'lightcoral', 'lightgreen', 'lightpink', 'lightseagreen', 'lightskyblue',
        'lightslategray', 'limegreen', 'mediumaquamarine', 'mediumblue', 'mediumspringgreen', 'midnightblue',
        'moccasin', 'navajowhite', 'orange', 'orangered', 'palegreen', 'paleturquoise', 'pink', 'rebeccapurple',
        'royalblue', 'salmon', 'sandybrown', 'seagreen', 'skyblue', 'springgreen', 'steelblue', 'teal', 'tomato']

      document.body.style.setProperty('--accent', colors[Math.floor(Math.random() * colors.length)])
    </script>
  

</body></html>